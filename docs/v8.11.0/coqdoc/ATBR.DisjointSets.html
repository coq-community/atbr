<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">ATBR.DisjointSets</h1>

<div class="code">
<span class="comment">(**************************************************************************)</span><br/>
<span class="comment">(*&nbsp;&nbsp;This&nbsp;is&nbsp;part&nbsp;of&nbsp;ATBR,&nbsp;it&nbsp;is&nbsp;distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GNU&nbsp;Lesser&nbsp;General&nbsp;Public&nbsp;License&nbsp;version&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(see&nbsp;file&nbsp;LICENSE&nbsp;for&nbsp;more&nbsp;details)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2009-2011:&nbsp;Thomas&nbsp;Braibant,&nbsp;Damien&nbsp;Pous.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span><br/>
<span class="comment">(**************************************************************************)</span><br/>

<br/>
</div>

<div class="doc">
Disjoint Sets data-structure. 

<div class="paragraph"> </div>

   The signature <span class="inlinecode"><a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS"><span class="id" title="module">DISJOINTSETS</span></a></span> describes a disjoint-sets data
   structure, to maintain work with sets of equivalence classes. 

<div class="paragraph"> </div>

   The functor <span class="inlinecode"><span class="id" title="var">DISJOINTSETSUTILS</span></span> provides several useful lemmas to
   reason about these equivalences classes.

<div class="paragraph"> </div>

   The module <span class="inlinecode"><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets"><span class="id" title="module">PosDisjointSets</span></a></span> implements <span class="inlinecode"><a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS"><span class="id" title="module">DISJOINTSETS</span></a></span> for
   <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a></span> numbers, as described in <span class="inlinecode">1</span>. We implemented two
   heuristics: path-compression and union by rank. 

<div class="paragraph"> </div>

   <span class="inlinecode">1</span> Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest, and
   Clifford Stein. Introduction to Algorithms. The MIT Press, 2nd
   revised edition edition, September 2001.  

<div class="paragraph"> </div>

   TODO: the proofs in this file should be cleaned and made more robust.

<div class="paragraph"> </div>

   
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ATBR.Common.html#"><span class="id" title="library">Common</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ATBR.MyFSets.html#"><span class="id" title="library">MyFSets</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ATBR.BoolView.html#"><span class="id" title="library">BoolView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ATBR.Numbers.html#"><span class="id" title="library">Numbers</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Type</span> <a name="DISJOINTSETS"><span class="id" title="module">DISJOINTSETS</span></a> (<span class="id" title="var">N</span> : <a class="idref" href="ATBR.Numbers.html#NUM"><span class="id" title="module">NUM</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">N</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.T"><span class="id" title="axiom">T</span></a>: <span class="id" title="keyword">Type</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.empty"><span class="id" title="axiom">empty</span></a> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.test_and_unify"><span class="id" title="axiom">test_and_unify</span></a> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.equiv"><span class="id" title="axiom">equiv</span></a> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.union"><span class="id" title="axiom">union</span></a> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.class_of"><span class="id" title="axiom">class_of</span></a> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.t"><span class="id" title="axiom">NumSet.t</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.IsWF"><span class="id" title="axiom">IsWF</span></a> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="DISJOINTSETS.WF"><span class="id" title="record">WF</span></a> <span class="id" title="var">t</span>: <span class="id" title="keyword">Prop</span> := { <a name="DISJOINTSETS.wf"><span class="id" title="projection">wf</span></a>: <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.IsWF"><span class="id" title="axiom">IsWF</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Instance</span> <a name="DISJOINTSETS.empty_WF"><span class="id" title="instance">empty_WF</span></a> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.empty"><span class="id" title="axiom">empty</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Instance</span> <a name="DISJOINTSETS.test_and_unify_WF"><span class="id" title="instance">test_and_unify_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>: <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.test_and_unify"><span class="id" title="axiom">test_and_unify</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Instance</span> <a name="DISJOINTSETS.equiv_WF"><span class="id" title="instance">equiv_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.equiv"><span class="id" title="axiom">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Instance</span> <a name="DISJOINTSETS.union_WF"><span class="id" title="instance">union_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Parameter</span> <a name="DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a>: <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.T"><span class="id" title="axiom">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="DISJOINTSETS.sameclass_equiv"><span class="id" title="axiom">sameclass_equiv</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.equiv"><span class="id" title="axiom">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Declare Instance</span> <a name="DISJOINTSETS.sameclass_Equivalence"><span class="id" title="instance">sameclass_Equivalence</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>}: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="DISJOINTSETS.sameclass_empty"><span class="id" title="axiom">sameclass_empty</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="DISJOINTSETS.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="DISJOINTSETS.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> , <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Axiom</span> <a name="DISJOINTSETS.test_and_unify_eq"><span class="id" title="axiom">test_and_unify_eq</span></a>: <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.test_and_unify"><span class="id" title="axiom">test_and_unify</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.equiv"><span class="id" title="axiom">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS"><span class="id" title="module">DISJOINTSETS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="DSUtils"><span class="id" title="module">DSUtils</span></a> (<span class="id" title="keyword">Import</span> <span class="id" title="var">N</span> : <a class="idref" href="ATBR.Numbers.html#NUM"><span class="id" title="module">NUM</span></a>) (<span class="id" title="keyword">Import</span> <span class="id" title="var">M</span>: <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS"><span class="id" title="module">DISJOINTSETS</span></a> <a class="idref" href="ATBR.DisjointSets.html#N"><span class="id" title="module">N</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <span class="id" title="keyword">Import</span> <a name="DSUtils.NU"><span class="id" title="module">NU</span></a> :=  <a class="idref" href="ATBR.Numbers.html#NumUtils"><span class="id" title="module">NumUtils</span></a> <a class="idref" href="ATBR.DisjointSets.html#N"><span class="id" title="module">N</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="DSUtils.le"><span class="id" title="definition">le</span></a> (<span class="id" title="var">s</span> <span class="id" title="var">t</span> : <a class="idref" href="ATBR.DisjointSets.html#M.T"><span class="id" title="axiom">T</span></a>): <span class="id" title="keyword">Prop</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Relations.Relation_Definitions.html#inclusion"><span class="id" title="definition">inclusion</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="DSUtils.le_PreOrder"><span class="id" title="instance">le_PreOrder</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.le"><span class="id" title="definition">le</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="DSUtils.eq"><span class="id" title="definition">eq</span></a> <span class="id" title="var">s</span> <span class="id" title="var">t</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Relations.Relation_Definitions.html#same_relation"><span class="id" title="definition">same_relation</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="DSUtils.eq_Equivalence"><span class="id" title="instance">eq_Equivalence</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.eq"><span class="id" title="definition">eq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.eq"><span class="id" title="definition">eq</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Relations.Relation_Definitions.html#same_relation"><span class="id" title="definition">same_relation</span></a>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.le_PreOrder"><span class="id" title="instance">le_PreOrder</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">apply</span> (@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.RelationClasses.html#PreOrder_Transitive"><span class="id" title="method">PreOrder_Transitive</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.le_PreOrder"><span class="id" title="instance">le_PreOrder</span></a>) <span class="id" title="keyword">with</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="DSUtils.sameclass_compat"><span class="id" title="instance">sameclass_compat</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DSUtils.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Relations.Relation_Definitions.html#same_relation"><span class="id" title="definition">same_relation</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a>) <a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exact</span> <span class="id" title="var">H</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="DSUtils.sameclass_compat'"><span class="id" title="instance">sameclass_compat'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ATBR.DisjointSets.html#DSUtils.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">Logic.eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.num"><span class="id" title="axiom">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="DSUtils.Notations"><span class="id" title="module">Notations</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">&quot;</span></a>{{ t }}" := (<a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">&quot;</span></a>x  [=T=]  y" := (<a class="idref" href="ATBR.DisjointSets.html#DSUtils.eq"><span class="id" title="definition">eq</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 75).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">&quot;</span></a>x  &lt;T= y" := (<a class="idref" href="ATBR.DisjointSets.html#DSUtils.le"><span class="id" title="definition">le</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 75).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.Notations"><span class="id" title="module">Notations</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">Notations</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.le_union"><span class="id" title="lemma">le_union</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>}: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">T</span></a><a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.le"><span class="id" title="definition">le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> ? .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.eq_union"><span class="id" title="lemma">eq_union</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>}: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">{{</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">}}</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">[=</span></a><a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">T</span></a><a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">=]</span></a> <a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.le_union"><span class="id" title="lemma">le_union</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">Hxy</span>, <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>, <span class="id" title="var">Hxy</span>, <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.le_incr"><span class="id" title="lemma">le_incr</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} {<span class="id" title="var">t'</span>} `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a>}: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">T</span></a><a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">&lt;</span></a><a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">T</span></a><a class="idref" href="ATBR.DisjointSets.html#f8a68da02fdcbc738af5244a2b4a78f7"><span class="id" title="notation">=</span></a>  <a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ? <span class="id" title="var">u</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.compat_union_eq"><span class="id" title="lemma">compat_union_eq</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} {<span class="id" title="var">t'</span>} `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a>} : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">[=</span></a><a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">T</span></a><a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">=]</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">[=</span></a><a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">T</span></a><a class="idref" href="ATBR.DisjointSets.html#0ee3eb89fd306c18879d8e670e4db6cf"><span class="id" title="notation">=]</span></a> <a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H'</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.le_incr"><span class="id" title="lemma">le_incr</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.class_of_empty"><span class="id" title="lemma">class_of_empty</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#M.empty"><span class="id" title="axiom">empty</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.singleton"><span class="id" title="axiom">NumSet.singleton</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ATBR.DisjointSets.html#M.sameclass_empty"><span class="id" title="axiom">sameclass_empty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.singleton_2"><span class="id" title="axiom">NumSet.singleton_2</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.E.eq_refl"><span class="id" title="axiom">NumSet.E.eq_refl</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> -&gt; <a class="idref" href="ATBR.DisjointSets.html#N.set_eq_spec"><span class="id" title="axiom">set_eq_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.singleton_1"><span class="id" title="axiom">NumSet.singleton_1</span></a>, <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.class_of_union"><span class="id" title="lemma">class_of_union</span></a>: <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.union"><span class="id" title="axiom">NumSet.union</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">NumSetProps.set_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.class_of_union_2"><span class="id" title="lemma">class_of_union_2</span></a>: <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">Hxz</span> <span class="id" title="var">Hyz</span> <span class="id" title="var">u</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.in_class_of_self"><span class="id" title="lemma">in_class_of_self</span></a>: <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span>, <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="DSUtils.class_of_compat"><span class="id" title="instance">class_of_compat</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.sameclass"><span class="id" title="axiom">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#N.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span> <span class="id" title="var">z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.class_of_compat'"><span class="id" title="lemma">class_of_compat'</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} {<span class="id" title="var">t'</span>} `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a>} <span class="id" title="var">x</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#DSUtils.eq"><span class="id" title="definition">eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Ht</span> <span class="id" title="var">t'</span> <span class="id" title="var">Ht'</span> <span class="id" title="var">x</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.class_of_union_1"><span class="id" title="lemma">class_of_union_1</span></a>: <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">{{</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">}}</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">{{</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">}}</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.union"><span class="id" title="axiom">NumSet.union</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>]; <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_replace</span> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="var">z</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="var">x</span>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.class_of_compat"><span class="id" title="instance">class_of_compat</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.class_of_union"><span class="id" title="lemma">class_of_union</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_replace</span> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="var">z</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.union"><span class="id" title="axiom">union</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <span class="id" title="var">y</span>) <span class="id" title="tactic">by</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.class_of_compat"><span class="id" title="instance">class_of_compat</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#DSUtils.class_of_union"><span class="id" title="lemma">class_of_union</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils.class_of_compat"><span class="id" title="instance">class_of_compat</span></a>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_union"><span class="id" title="axiom">sameclass_union</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.class_of_injective"><span class="id" title="lemma">class_of_injective</span></a>: <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">{{</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">}}</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#N.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <span class="id" title="var">y</span> (<a class="idref" href="ATBR.DisjointSets.html#M.class_of"><span class="id" title="axiom">class_of</span></a> <span class="id" title="var">t</span> <span class="id" title="var">y</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_class_of"><span class="id" title="axiom">sameclass_class_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="DSUtils.sameclass_spec"><span class="id" title="lemma">sameclass_spec</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#M.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Bool.Bool.html#reflect"><span class="id" title="inductive">reflect</span></a> (<a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">{{</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#5694ec1f9420bcfc3619e70134f89cac"><span class="id" title="notation">}}</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.equiv"><span class="id" title="axiom">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#M.equiv"><span class="id" title="axiom">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)); <span class="id" title="tactic">intro</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_equiv"><span class="id" title="axiom">sameclass_equiv</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">F</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#M.sameclass_equiv"><span class="id" title="axiom">sameclass_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">F</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">F</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#DSUtils"><span class="id" title="module">DSUtils</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="PosDisjointSets"><span class="id" title="module">PosDisjointSets</span></a> &lt;: <a class="idref" href="ATBR.DisjointSets.html#DISJOINTSETS"><span class="id" title="module">DISJOINTSETS</span></a> <a class="idref" href="ATBR.Numbers.html#Positive"><span class="id" title="module">Positive</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">PositiveUtils</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Module</span> <a name="PosDisjointSets.Z"><span class="id" title="module">Z</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.FSets.FMapFacts.html#OrdProperties"><span class="id" title="module">FMapFacts.OrdProperties</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap"><span class="id" title="module">NumMap</span></a>. <span class="comment">(*&nbsp;TODO:&nbsp;réellement&nbsp;utile&nbsp;depuis&nbsp;les&nbsp;inductions&nbsp;de&nbsp;thomas&nbsp;?&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PosDisjointSets.protect"><span class="id" title="section">protect</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">nat_scope</span>. <span class="id" title="keyword">Notation</span> <a name="PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">Datatypes.S</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.num"><span class="id" title="definition">num</span></a> := <a class="idref" href="ATBR.Numbers.html#Positive.num"><span class="id" title="definition">num</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.eq_num"><span class="id" title="definition">eq_num</span></a> := @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="cdf6cedfee55c7f3e612d41a86413585"><span class="id" title="notation">&quot;</span></a>M '[' key ']' " := (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.find"><span class="id" title="axiom">NumMap.find</span></a> <span class="id" title="var">key</span> <span class="id" title="var">M</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&quot;</span></a>M '[' key '&gt;-' v ']' " := (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.add"><span class="id" title="axiom">NumMap.add</span></a> <span class="id" title="var">key</span> <span class="id" title="var">v</span> <span class="id" title="var">M</span>)(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 0, <span class="id" title="keyword">no</span> <span class="id" title="keyword">associativity</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="ebb9f12b67ba2386f3660f414af0b730"><span class="id" title="notation">&quot;</span></a>'[]'" :=(<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.empty"><span class="id" title="axiom">NumMap.empty</span></a> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Structure</span> <a name="PosDisjointSets.UF"><span class="id" title="record">UF</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="PosDisjointSets.p"><span class="id" title="projection">p</span></a> : <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="PosDisjointSets.rank"><span class="id" title="projection">rank</span></a> : <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="PosDisjointSets.size"><span class="id" title="projection">size</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.T"><span class="id" title="definition">T</span></a> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.UF"><span class="id" title="record">UF</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.empty"><span class="id" title="definition">empty</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.T"><span class="id" title="definition">T</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Build_UF"><span class="id" title="constructor">Build_UF</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#ebb9f12b67ba2386f3660f414af0b730"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#ebb9f12b67ba2386f3660f414af0b730"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="PosDisjointSets.find_aux"><span class="id" title="definition">find_aux</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id" title="var">S</span> <span class="id" title="var">n</span>) =&gt; <span class="id" title="keyword">match</span> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#cdf6cedfee55c7f3e612d41a86413585"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="ATBR.DisjointSets.html#cdf6cedfee55c7f3e612d41a86413585"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">y</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">ry</span>, <span class="id" title="var">t</span>) := <a class="idref" href="ATBR.DisjointSets.html#find_aux"><span class="id" title="definition">find_aux</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">y</span> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>  <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">rx</span>,<span class="id" title="var">t'</span>) := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_aux"><span class="id" title="definition">find_aux</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Build_UF"><span class="id" title="constructor">Build_UF</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rank"><span class="id" title="projection">rank</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.get_rank"><span class="id" title="definition">get_rank</span></a> <span class="id" title="var">x</span> <span class="id" title="var">rank</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span>  <a class="idref" href="ATBR.DisjointSets.html#rank"><span class="id" title="variable">rank</span></a> <a class="idref" href="ATBR.DisjointSets.html#cdf6cedfee55c7f3e612d41a86413585"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="ATBR.DisjointSets.html#cdf6cedfee55c7f3e612d41a86413585"><span class="id" title="notation">]</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> =&gt; 1%<span class="id" title="var">positive</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">rx</span> =&gt; <span class="id" title="var">rx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.link"><span class="id" title="definition">link</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rank</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rank"><span class="id" title="projection">rank</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rx</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.get_rank"><span class="id" title="definition">get_rank</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#rank"><span class="id" title="variable">rank</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ry</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.get_rank"><span class="id" title="definition">get_rank</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#rank"><span class="id" title="variable">rank</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="ATBR.Numbers.html#Positive.compare"><span class="id" title="definition">compare</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Build_UF"><span class="id" title="constructor">Build_UF</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#rank"><span class="id" title="variable">rank</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Build_UF"><span class="id" title="constructor">Build_UF</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#rank"><span class="id" title="variable">rank</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.S"><span class="id" title="definition">Positive.S</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Build_UF"><span class="id" title="constructor">Build_UF</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#rank"><span class="id" title="variable">rank</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.union"><span class="id" title="definition">union</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">rx</span>,<span class="id" title="var">t</span>) := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">ry</span>,<span class="id" title="var">t</span>) := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>  <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ATBR.Numbers.html#Positive.eqb"><span class="id" title="definition">Positive.eqb</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link"><span class="id" title="definition">link</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a>  <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">rx</span>,<span class="id" title="var">t</span>) := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a>  <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">ry</span>,<span class="id" title="var">t</span>) := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a>  <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>  <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.Numbers.html#Positive.eqb"><span class="id" title="definition">Positive.eqb</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.test_and_unify"><span class="id" title="definition">test_and_unify</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">rx</span>,<span class="id" title="var">t</span>) := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a>  <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">ry</span>,<span class="id" title="var">t</span>) := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a>  <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>  <span class="id" title="tactic">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="ATBR.Numbers.html#Positive.eqb"><span class="id" title="definition">Positive.eqb</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link"><span class="id" title="definition">link</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="ATBR.DisjointSets.html#ry"><span class="id" title="variable">ry</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Import</span> <span class="id" title="var">NumMapProps</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<span class="id" title="var">t</span>: <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>) : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.In"><span class="id" title="definition">NumMap.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a><br/>
&nbsp;&nbsp;| <a name="PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">r</span>, <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="ATBR.DisjointSets.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#r"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="PosDisjointSets.D"><span class="id" title="inductive">D</span></a> (<span class="id" title="var">t</span>: <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>) : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="ATBR.Numbers.html#Positive.NumMap.In"><span class="id" title="definition">NumMap.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a><br/>
&nbsp;&nbsp;| <a name="PosDisjointSets.DS"><span class="id" title="constructor">DS</span></a> : <span class="id" title="keyword">forall</span>  <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">n</span>, <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>  := <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> := <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> .<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> <span class="id" title="var">t</span> <span class="id" title="var">n</span>:= <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PosDisjointSets.protect.repr"><span class="id" title="section">repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> : <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_zero_inv"><span class="id" title="lemma">repr_zero_inv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span>,  <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="ATBR.Numbers.html#Positive.NumMap.In"><span class="id" title="definition">NumMap.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">Hix</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">tauto_false</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">c</span>,  <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#c"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">find_tac</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">find_tac</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">find_tac</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_inv_In"><span class="id" title="lemma">repr_inv_In</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.In"><span class="id" title="definition">NumMap.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_inj_idem"><span class="id" title="lemma">repr_inj_idem</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> , <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">r</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="ATBR.DisjointSets.html#r"><span class="id" title="variable">r</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#r"><span class="id" title="variable">r</span></a>. <span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1;  <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.DO_inv_In"><span class="id" title="lemma">DO_inv_In</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> , <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.In"><span class="id" title="definition">NumMap.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">repr_inv_In</span> <span class="id" title="var">DO_inv_In</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>  <span class="id" title="var">x</span>; <span class="id" title="tactic">split</span>;   <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.D_inv_n"><span class="id" title="lemma">D_inv_n</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">inversion</span> 1. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_idem"><span class="id" title="lemma">repr_idem</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">rx</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">rx</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inv_In"><span class="id" title="lemma">repr_inv_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.D_succ"><span class="id" title="lemma">D_succ</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span>, <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>  <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">n</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion_clear</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">find_tac</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.D_inj"><span class="id" title="lemma">D_inj</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">n</span> , <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">forall</span> <span class="id" title="var">m</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1;  <span class="id" title="tactic">inversion_clear</span> 1; <span class="id" title="var">find_tac</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHD</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_D"><span class="id" title="lemma">repr_D</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1. <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHrepr</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DS"><span class="id" title="constructor">DS</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.update_In"><span class="id" title="lemma">update_In</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="ATBR.Numbers.html#Positive.NumMap.In"><span class="id" title="definition">NumMap.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a><a class="idref" href="ATBR.Numbers.html#Positive.NumMap.In"><span class="id" title="definition">NumMap.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]. <span class="id" title="tactic">subst</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_zero_inv"><span class="id" title="lemma">repr_zero_inv</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.repr"><span class="id" title="section">repr</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.D_update"><span class="id" title="lemma">D_update</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t</span>, <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> (<a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t'</span> <span class="id" title="var">Hxy</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="var">map_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;  <span class="id" title="var">tauto_false</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> ;  <span class="id" title="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;].<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">repr_idem</span> <span class="id" title="var">DO_inv_In</span> <span class="id" title="var">D_inv_n</span> <span class="id" title="var">repr_D</span> <span class="id" title="var">D_update</span> <span class="id" title="var">update_In</span> <span class="id" title="var">repr_inv_In</span> : <span class="id" title="var">core</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.FEquiv_D"><span class="id" title="lemma">FEquiv_D</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> . <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  2 <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="PosDisjointSets.FEquiv_eq"><span class="id" title="instance">FEquiv_eq</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">firstorder</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span> , &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">rewrite</span>  <span class="id" title="var">H</span> , <span class="id" title="var">H0</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="PosDisjointSets.repr_compat"><span class="id" title="instance">repr_compat</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">(</span></a>@<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">)==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a>) <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PosDisjointSets.protect.update"><span class="id" title="section">update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> : <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a> <a name="PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="PosDisjointSets.protect.update.a_diff_b"><span class="id" title="variable">a_diff_b</span></a>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="PosDisjointSets.protect.update.a_repr_b"><span class="id" title="variable">a_repr_b</span></a>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.update_equiv"><span class="id" title="lemma">update_equiv</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a>. <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>. 2 : <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">tauto</span>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>. 2 : <span class="id" title="tactic">apply</span> <span class="id" title="var">IHrepr</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">H'</span>  <span class="id" title="var">H''</span>] | <span class="id" title="var">H'</span>]. <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_idem"><span class="id" title="lemma">repr_inj_idem</span></a>;  <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.D_update_ex"><span class="id" title="lemma">D_update_ex</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">n</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>). <span class="id" title="tactic">apply</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DS"><span class="id" title="constructor">DS</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a>). <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHD</span>). <span class="id" title="tactic">exists</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DS"><span class="id" title="constructor">DS</span></a>. 2 : <span class="id" title="tactic">eauto</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.boundage"><span class="id" title="lemma">boundage</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_update_ex"><span class="id" title="lemma">D_update_ex</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">x1</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.update"><span class="id" title="section">update</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PosDisjointSets.protect.link"><span class="id" title="section">link</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> : <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> <a name="PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a name="PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="PosDisjointSets.protect.link.a_diff_b"><span class="id" title="variable">a_diff_b</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="PosDisjointSets.protect.link.repr_a"><span class="id" title="variable">repr_a</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="PosDisjointSets.protect.link.repr_b"><span class="id" title="variable">repr_b</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.D_link_ex"><span class="id" title="lemma">D_link_ex</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">n</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">exists2</span></a> <span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#3df228c109f14f0423b4fccc967ee1ac"><span class="id" title="notation">&amp;</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">&lt;=</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">apply</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DS"><span class="id" title="constructor">DS</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">map_iff</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">map_iff</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]; <span class="id" title="tactic">subst</span>. <span class="id" title="var">tauto_false</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inv_In"><span class="id" title="lemma">repr_inv_In</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a>. <span class="id" title="var">map_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="var">tauto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> 1. <span class="id" title="tactic">apply</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DS"><span class="id" title="constructor">DS</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>  <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>). <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a>. <span class="id" title="var">map_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]. <span class="id" title="tactic">subst</span>. <span class="id" title="var">tauto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inv_In"><span class="id" title="lemma">repr_inv_In</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHD</span>. <span class="id" title="tactic">exists</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">x</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DS"><span class="id" title="constructor">DS</span></a>. 2 : <span class="id" title="tactic">eauto</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.boundage_link"><span class="id" title="lemma">boundage_link</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a>  <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_link_ex"><span class="id" title="lemma">D_link_ex</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">x1</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_update_fwd"><span class="id" title="lemma">repr_update_fwd</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>). <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="var">map_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]. <span class="id" title="tactic">subst</span>. <span class="id" title="var">tauto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inv_In"><span class="id" title="lemma">repr_inv_In</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <span class="id" title="var">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">r</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>). <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>. 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">IHrepr</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_x_inv_upd"><span class="id" title="lemma">repr_x_inv_upd</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="var">tauto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">apply</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a> <span class="id" title="var">_</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a> <span class="id" title="var">r</span>). <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>. 2 : <span class="id" title="tactic">apply</span> <span class="id" title="var">IHrepr</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.link_lemma_1"><span class="id" title="lemma">link_lemma_1</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">z</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inv_In"><span class="id" title="lemma">repr_inv_In</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">intros</span> [[<span class="id" title="var">H'</span>  <span class="id" title="var">H''</span>] | [<span class="id" title="var">H'</span> <span class="id" title="var">H''</span>]]. <span class="id" title="tactic">subst</span>. <span class="id" title="var">tauto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHrepr</span>. <span class="id" title="tactic">left</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.link_lemma_2"><span class="id" title="lemma">link_lemma_2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">z</span> <span class="id" title="var">rz</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#rz"><span class="id" title="variable">rz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#rz"><span class="id" title="variable">rz</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#rz"><span class="id" title="variable">rz</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H1</span>; <span class="id" title="var">map_iff</span>. <span class="id" title="var">completer</span> <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">r</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.repr_a"><span class="id" title="variable">repr_a</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">tauto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_inv_upd"><span class="id" title="lemma">repr_inv_upd</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">z</span> <span class="id" title="var">rz</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#rz"><span class="id" title="variable">rz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#rz"><span class="id" title="variable">rz</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#rz"><span class="id" title="variable">rz</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span> | <span class="id" title="var">H'</span>]; <span class="id" title="tactic">subst</span>;  <span class="id" title="var">tauto_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">i</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inv_In"><span class="id" title="lemma">repr_inv_In</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">repr_b</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>. 2 : <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHrepr</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">map_iff</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">repr_x_inv_upd</span> <span class="id" title="var">repr_inv_upd</span> <span class="id" title="var">link_lemma_1</span> <span class="id" title="var">link_lemma_2</span> <span class="id" title="var">repr_update_fwd</span> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.link_main_lemma"><span class="id" title="lemma">link_main_lemma</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">u</span> <span class="id" title="var">v</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">[</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">&gt;-</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a><a class="idref" href="ATBR.DisjointSets.html#ba28ce2170909a4d497d0f2801170a0b"><span class="id" title="notation">]</span></a>) <a class="idref" href="ATBR.DisjointSets.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="ATBR.DisjointSets.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="ATBR.DisjointSets.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">((</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a>             <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">))</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">ruv</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Hv</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">ruv</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link_lemma_1"><span class="id" title="lemma">link_lemma_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hu</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link_lemma_1"><span class="id" title="lemma">link_lemma_1</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hv</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">firstorder</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link_lemma_2"><span class="id" title="lemma">link_lemma_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hu</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link_lemma_2"><span class="id" title="lemma">link_lemma_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">firstorder</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ruv</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Hv</span>] | [[[<span class="id" title="var">ru</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Hx</span>] [<span class="id" title="var">rv</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hy</span>]] | [[<span class="id" title="var">ru</span> <span class="id" title="var">Hu</span> <span class="id" title="var">Hx</span>] [<span class="id" title="var">rv</span> <span class="id" title="var">Hv</span> <span class="id" title="var">Hy</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">ruv</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">ruv</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.b"><span class="id" title="variable">b</span></a>). <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">ruv</span>; <span class="id" title="tactic">firstorder</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">Hrua</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">Hx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">Hrvb</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">Hy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hrua</span>, &lt;- <span class="id" title="var">Hrvb</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrua</span> <span class="id" title="var">Hrvb</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">Hrua</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">_</span> <span class="id" title="var">Hx</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ( <span class="id" title="var">Hrvb</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">Hy</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hrua</span>, &lt;- <span class="id" title="var">Hrvb</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hrua</span> <span class="id" title="var">Hrvb</span>. <span class="id" title="tactic">exists</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link.a"><span class="id" title="variable">a</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.link"><span class="id" title="section">link</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PosDisjointSets.protect.find_aux"><span class="id" title="section">find_aux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.find_equiv"><span class="id" title="lemma">find_equiv</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t'</span> <span class="id" title="var">px</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_aux"><span class="id" title="definition">find_aux</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#px"><span class="id" title="variable">px</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#px"><span class="id" title="variable">px</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Peano.html#00fe0eaf5e6949f0a31725357afa4bba"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D"><span class="id" title="inductive">D</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">s</span> <span class="id" title="var">t0</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">t'</span> <span class="id" title="var">px</span> <span class="id" title="var">Hxt</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hpx</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">omega_false</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">find_analyse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_aux"><span class="id" title="definition">find_aux</span></a> <span class="id" title="var">n</span> <span class="id" title="var">x0</span> <span class="id" title="var">t0</span>). <span class="id" title="tactic">intros</span> <span class="id" title="var">p'</span> <span class="id" title="var">t''</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">injection</span> <span class="id" title="var">Hxt</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">Hxt</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_succ"><span class="id" title="lemma">D_succ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">Hx</span>). <span class="id" title="tactic">subst</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">s</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span> <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hy</span> [[<span class="id" title="var">Hxy</span> | <span class="id" title="var">Hxy</span>] [<span class="id" title="var">Heq</span> <span class="id" title="var">Hwf'</span>]] ] . <span class="id" title="tactic">omega</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_inv_n"><span class="id" title="lemma">D_inv_n</span></a>. 2:<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv_D"><span class="id" title="lemma">FEquiv_D</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <span class="id" title="var">t''</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;-  <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv_D"><span class="id" title="lemma">FEquiv_D</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_update"><span class="id" title="lemma">D_update</span></a>;  <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.update_equiv"><span class="id" title="lemma">update_equiv</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.boundage"><span class="id" title="lemma">boundage</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_inv_n"><span class="id" title="lemma">D_inv_n</span></a>  <span class="id" title="var">t0</span>); <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv_D"><span class="id" title="lemma">FEquiv_D</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> <span class="id" title="var">t''</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_update"><span class="id" title="lemma">D_update</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.update_equiv"><span class="id" title="lemma">update_equiv</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.boundage"><span class="id" title="lemma">boundage</span></a>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">destruction</span> <span class="id" title="var">Hxt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.find_aux"><span class="id" title="section">find_aux</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PosDisjointSets.protect.WF"><span class="id" title="section">WF</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.IsWF"><span class="id" title="definition">IsWF</span></a> <span class="id" title="var">t</span> : <span class="id" title="keyword">Prop</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.bounded"><span class="id" title="definition">bounded</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Class</span> <a name="PosDisjointSets.WF"><span class="id" title="record">WF</span></a> <span class="id" title="var">t</span>: <span class="id" title="keyword">Prop</span> := { <a name="PosDisjointSets.wf"><span class="id" title="projection">wf</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.IsWF"><span class="id" title="definition">IsWF</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> }.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hint Constructors</span> <a class="idref" href="ATBR.DisjointSets.html#WF"><span class="id" title="inductive">WF</span></a> : <span class="id" title="var">core</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="PosDisjointSets.find_spec_decl"><span class="id" title="inductive">find_spec_decl</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.T"><span class="id" title="definition">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Type</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="PosDisjointSets.find_spec_1"><span class="id" title="constructor">find_spec_1</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">rx</span> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Heq</span>:<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hrepr</span>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hwf</span>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#find_spec_decl"><span class="id" title="inductive">find_spec_decl</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#rx"><span class="id" title="variable">rx</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="ATBR.DisjointSets.html#t'"><span class="id" title="variable">t'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec_decl"><span class="id" title="inductive">find_spec_decl</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span>) ; <span class="id" title="tactic">intros</span> <span class="id" title="var">rx</span> <span class="id" title="var">t'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_aux"><span class="id" title="definition">find_aux</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">x</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t</span>)). <span class="id" title="tactic">intros</span> <span class="id" title="var">rx'</span> <span class="id" title="var">t''</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">injection</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.wf"><span class="id" title="method">wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span> <span class="id" title="var">Hxn</span> <span class="id" title="var">Hn</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_equiv"><span class="id" title="lemma">find_equiv</span></a> <span class="id" title="var">_</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.size"><span class="id" title="projection">size</span></a> <span class="id" title="var">t</span>) <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span> <span class="id" title="var">Hxn</span> <span class="id" title="var">Hn</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">Hrx</span> [[?|?] [<span class="id" title="var">Heq</span> <span class="id" title="var">Hb</span>]]];  <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.D_repr"><span class="id" title="lemma">D_repr</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="PosDisjointSets.empty_WF"><span class="id" title="instance">empty_WF</span></a> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.empty"><span class="id" title="definition">empty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">exists</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>; [<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.DO"><span class="id" title="constructor">DO</span></a>; <span class="id" title="var">cbn</span>; <span class="id" title="var">map_iff</span>; <span class="id" title="tactic">auto</span>| <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="PosDisjointSets.find_WF"><span class="id" title="instance">find_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> )).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="PosDisjointSets.equiv_WF"><span class="id" title="instance">equiv_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="PosDisjointSets.link_WF"><span class="id" title="instance">link_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link"><span class="id" title="definition">link</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hy</span> <span class="id" title="var">Hxy</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link"><span class="id" title="definition">link</span></a>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.Numbers.html#Positive.compare_spec"><span class="id" title="lemma">compare_spec</span></a>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.boundage_link"><span class="id" title="lemma">boundage_link</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="PosDisjointSets.union_WF"><span class="id" title="instance">union_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.union"><span class="id" title="definition">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.union"><span class="id" title="definition">union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">num_analyse</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t'0</span>) <span class="id" title="var">rx0</span> <span class="id" title="var">rx0</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t'0</span>) <span class="id" title="var">rx</span> <span class="id" title="var">rx</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq0</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link_WF"><span class="id" title="instance">link_WF</span></a>;  <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="PosDisjointSets.test_and_unify_WF"><span class="id" title="instance">test_and_unify_WF</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>: <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.test_and_unify"><span class="id" title="definition">test_and_unify</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.test_and_unify"><span class="id" title="definition">test_and_unify</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">num_analyse</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t'0</span>) <span class="id" title="var">rx0</span> <span class="id" title="var">rx0</span>). <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t'0</span>) <span class="id" title="var">rx</span> <span class="id" title="var">rx</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq0</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link_WF"><span class="id" title="instance">link_WF</span></a>;  <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.WF"><span class="id" title="section">WF</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.repr_helper"><span class="id" title="lemma">repr_helper</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.wf"><span class="id" title="method">wf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rzero"><span class="id" title="constructor">rzero</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHD</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.rsucc"><span class="id" title="constructor">rsucc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PosDisjointSets.protect.Equiv"><span class="id" title="section">Equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.Equiv_empty"><span class="id" title="lemma">Equiv_empty</span></a> :  <span class="id" title="keyword">forall</span> <span class="id" title="var">m</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>,<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.Empty"><span class="id" title="definition">NumMap.Empty</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span> <span class="id" title="var">He</span> [<span class="id" title="var">x</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">inversion_clear</span> <span class="id" title="var">H'</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.sameclass_empty"><span class="id" title="lemma">sameclass_empty</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.empty"><span class="id" title="definition">empty</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">refine</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv_empty"><span class="id" title="lemma">Equiv_empty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.empty_1"><span class="id" title="axiom">NumMap.empty_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="PosDisjointSets.Equiv_compat"><span class="id" title="instance">Equiv_compat</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#iff"><span class="id" title="definition">iff</span></a> ) <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.FEquiv"><span class="id" title="definition">FEquiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> [<span class="id" title="var">rx</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hy</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="PosDisjointSets.sameclass_Equivalence"><span class="id" title="instance">sameclass_Equivalence</span></a> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Classes.RelationClasses.html#Equivalence"><span class="id" title="class">Equivalence</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.Equiv"><span class="id" title="definition">Equiv</span></a>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_helper"><span class="id" title="lemma">repr_helper</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">x0</span>]. <span class="id" title="tactic">exists</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">x0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">x1</span>). <span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.sameclass_union"><span class="id" title="lemma">sameclass_union</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">uf</span>} `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a>} <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">s</span> <span class="id" title="var">t</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.union"><span class="id" title="definition">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">uf</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">Hwf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.union"><span class="id" title="definition">union</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>, <span class="id" title="var">Heq0</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">num_analyse</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">rx0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrepr</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrepr0</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">rx0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrepr0</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>). <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span> <span class="id" title="var">_</span> <span class="id" title="var">Hrepr</span>). <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link"><span class="id" title="definition">link</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.Numbers.html#Positive.compare_spec"><span class="id" title="lemma">compare_spec</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.link_main_lemma"><span class="id" title="lemma">link_main_lemma</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>, (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">Heq</span>, ?<span class="id" title="var">Heq0</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">num_analyse</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">rx0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">transitivity</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_inj_right"><span class="id" title="lemma">repr_inj_right</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.sameclass_find"><span class="id" title="lemma">sameclass_find</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find"><span class="id" title="definition">find</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>)) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">rx</span>;  [<span class="id" title="tactic">eapply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_idem"><span class="id" title="lemma">repr_idem</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect.Equiv"><span class="id" title="section">Equiv</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.test_and_unify_eq"><span class="id" title="lemma">test_and_unify_eq</span></a> : <span class="id" title="keyword">forall</span> {<span class="id" title="var">uf</span>} `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.test_and_unify"><span class="id" title="definition">test_and_unify</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.union"><span class="id" title="definition">union</span></a> <a class="idref" href="ATBR.DisjointSets.html#uf"><span class="id" title="variable">uf</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">uf</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.test_and_unify"><span class="id" title="definition">test_and_unify</span></a>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.union"><span class="id" title="definition">union</span></a>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">case</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">num_analyse</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.T"><span class="id" title="definition">T</span></a>) <span class="id" title="var">x</span> := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.fold"><span class="id" title="axiom">NumMap.fold</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">acc</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a>)  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> (<a class="idref" href="ATBR.Numbers.html#Positive.NumSet.add"><span class="id" title="axiom">NumSet.add</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="ATBR.Numbers.html#Positive.NumSet.add"><span class="id" title="axiom">NumSet.add</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;)  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.Numbers.html#Positive.NumSet.empty"><span class="id" title="axiom">NumSet.empty</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.sameclass_equiv'"><span class="id" title="lemma">sameclass_equiv'</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">y</span> <span class="id" title="var">z</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a>  <span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, @<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.UF"><span class="id" title="record">UF</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>  <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span>  <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> &lt;- <a class="idref" href="ATBR.BoolView.html#bool_prop_iff"><span class="id" title="lemma">bool_prop_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.NumMap_fold_compat"><span class="id" title="lemma">NumMap_fold_compat</span></a> <span class="id" title="var">A</span> <span class="id" title="var">t</span> <span class="id" title="var">f</span> <span class="id" title="var">g</span> (<span class="id" title="var">x</span>: <a class="idref" href="ATBR.DisjointSets.html#A"><span class="id" title="variable">A</span></a>):  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">(</span></a><span class="id" title="keyword">forall</span> <span class="id" title="var">acc</span> (<span class="id" title="var">k</span> <span class="id" title="var">e</span> : <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.num"><span class="id" title="definition">num</span></a>) , <a class="idref" href="ATBR.DisjointSets.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="ATBR.DisjointSets.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="ATBR.DisjointSets.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.DisjointSets.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="ATBR.DisjointSets.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="ATBR.DisjointSets.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.fold"><span class="id" title="axiom">NumMap.fold</span></a> <a class="idref" href="ATBR.DisjointSets.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.fold"><span class="id" title="axiom">NumMap.fold</span></a> <a class="idref" href="ATBR.DisjointSets.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.fold_1"><span class="id" title="axiom">NumMap.fold_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.elements"><span class="id" title="axiom">NumMap.elements</span></a> <span class="id" title="var">t</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.MapsTo_sameclass"><span class="id" title="lemma">MapsTo_sameclass</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr_helper"><span class="id" title="lemma">repr_helper</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">y</span> ?]; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">z</span>). <span class="id" title="var">NumMapProps.find_tac</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.equiv_reflexive_false"><span class="id" title="lemma">equiv_reflexive_false</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span>, <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> := <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.add"><span class="id" title="axiom">NumSet.add</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.class_of_Equal_MapsTo"><span class="id" title="lemma">class_of_Equal_MapsTo</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ATBR.Numbers.html#Positive.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>) .<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.MapsTo_sameclass"><span class="id" title="lemma">MapsTo_sameclass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.NumMap_fold_compat"><span class="id" title="lemma">NumMap_fold_compat</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">acc</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.add"><span class="id" title="axiom">NumSet.add</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="ATBR.Numbers.html#Positive.NumSet.add"><span class="id" title="axiom">NumSet.add</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a>) <span class="id" title="keyword">else</span> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span> <span class="id" title="var">acc</span> =&gt; <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.add"><span class="id" title="axiom">NumSet.add</span></a> <a class="idref" href="ATBR.DisjointSets.html#a"><span class="id" title="variable">a</span></a> (<a class="idref" href="ATBR.Numbers.html#Positive.NumSet.add"><span class="id" title="axiom">NumSet.add</span></a> <a class="idref" href="ATBR.DisjointSets.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a>) <span class="id" title="keyword">else</span> <a class="idref" href="ATBR.DisjointSets.html#acc"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  2 (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv'"><span class="id" title="lemma">sameclass_equiv'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>). <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.class_of_Equal_repr"><span class="id" title="lemma">class_of_Equal_repr</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>) (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_Equal_MapsTo"><span class="id" title="lemma">class_of_Equal_MapsTo</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHrepr</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.class_of_In_MapsTo"><span class="id" title="lemma">class_of_In_MapsTo</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.Equal"><span class="id" title="definition">NumMap.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t</span>) (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.add"><span class="id" title="axiom">NumMap.add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">z</span> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.remove"><span class="id" title="axiom">NumMap.remove</span></a> <span class="id" title="var">x</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>. <span class="id" title="var">find_analyse</span>; <span class="id" title="var">completer</span> <span class="id" title="tactic">idtac</span>; <span class="id" title="var">find_tac</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">find_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.Numbers.html#PositiveUtils.NumMapProps.remove_in_iff"><span class="id" title="lemma">NumMapProps.remove_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">firstorder</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.fold_Equal"><span class="id" title="lemma">Z.fold_Equal</span></a>; <span class="id" title="var">ti_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.Numbers.html#PositiveUtils.NumMapProps.fold_add"><span class="id" title="lemma">NumMapProps.fold_add</span></a>; <span class="id" title="var">ti_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <span class="id" title="var">x</span>)); <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <span class="id" title="var">z</span>)); <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">left</span>. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv_reflexive_false"><span class="id" title="lemma">equiv_reflexive_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>;<span class="id" title="var">tauto_false</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.MapsTo_sameclass"><span class="id" title="lemma">MapsTo_sameclass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv_reflexive_false"><span class="id" title="lemma">equiv_reflexive_false</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>;  <span class="id" title="var">tauto_false</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <span class="id" title="var">y</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <span class="id" title="var">y0</span>)); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> ?<span class="id" title="var">t</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>)] =&gt; <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)) <span class="id" title="keyword">end</span>; <span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">try</span> <span class="id" title="var">NumSetProps.setdec</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.Numbers.html#PositiveUtils.NumMapProps.remove_in_iff"><span class="id" title="lemma">NumMapProps.remove_in_iff</span></a>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">tauto_false</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <span class="id" title="var">y</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">z</span> <span class="id" title="var">y0</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.class_of_In_MapsTo'"><span class="id" title="lemma">class_of_In_MapsTo'</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.MapsTo"><span class="id" title="axiom">NumMap.MapsTo</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.Equal"><span class="id" title="definition">NumMap.Equal</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t</span>) (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.add"><span class="id" title="axiom">NumMap.add</span></a> <span class="id" title="var">x</span> <span class="id" title="var">z</span> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.remove"><span class="id" title="axiom">NumMap.remove</span></a> <span class="id" title="var">x</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">y</span>. <span class="id" title="var">find_analyse</span>; <span class="id" title="var">completer</span> <span class="id" title="tactic">idtac</span>; <span class="id" title="var">find_tac</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">find_tac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.Numbers.html#PositiveUtils.NumMapProps.remove_in_iff"><span class="id" title="lemma">NumMapProps.remove_in_iff</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.eq_num_dec"><span class="id" title="lemma">eq_num_dec</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>); <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">firstorder</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.fold_Equal"><span class="id" title="lemma">Z.fold_Equal</span></a>; <span class="id" title="var">ti_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.Numbers.html#PositiveUtils.NumMapProps.fold_add"><span class="id" title="lemma">NumMapProps.fold_add</span></a>; <span class="id" title="var">ti_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">x</span>)) <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span>)). <span class="id" title="tactic">intros</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.MapsTo_sameclass"><span class="id" title="lemma">MapsTo_sameclass</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a>. <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y0</span>)); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span> |- <span class="id" title="keyword">context</span> [<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> ?<span class="id" title="var">t</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y</span>)] =&gt; <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>)) <span class="id" title="keyword">end</span>; <span class="id" title="tactic">simpl</span>;<span class="id" title="tactic">try</span> <span class="id" title="var">NumSetProps.setdec</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.Numbers.html#PositiveUtils.NumMapProps.remove_in_iff"><span class="id" title="lemma">NumMapProps.remove_in_iff</span></a>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">tauto_false</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">case</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">x</span> <span class="id" title="var">y0</span>)); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.class_of_In_repr"><span class="id" title="lemma">class_of_In_repr</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="var">NumSetProps.setdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_In_MapsTo"><span class="id" title="lemma">class_of_In_MapsTo</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">IHrepr</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span>   | <span class="id" title="var">H'</span>]. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">intros</span> [? | ?]. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_Equal_repr"><span class="id" title="lemma">class_of_Equal_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">intros</span> [? | ?]. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.class_of_In_repr'"><span class="id" title="lemma">class_of_In_repr'</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">z</span>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.repr"><span class="id" title="inductive">repr</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#z"><span class="id" title="variable">z</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>. <span class="id" title="var">NumSetProps.setdec</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H''</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_In_MapsTo'"><span class="id" title="lemma">class_of_In_MapsTo'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">IHrepr</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">H'</span>   | <span class="id" title="var">H'</span>]; <span class="id" title="var">num_prop</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H0</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H''</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">intros</span> [? | ?]; <span class="id" title="var">num_prop</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H''</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="tactic">intros</span> [? | ?];  <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_Equal_MapsTo"><span class="id" title="lemma">class_of_Equal_MapsTo</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.NumMap_Equal_Empty_empty"><span class="id" title="lemma">NumMap_Equal_Empty_empty</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">elt</span> (<span class="id" title="var">t</span> : <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.t"><span class="id" title="axiom">NumMap.t</span></a> <a class="idref" href="ATBR.DisjointSets.html#elt"><span class="id" title="variable">elt</span></a>) , <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.Empty"><span class="id" title="definition">NumMap.Empty</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumMap.Equal"><span class="id" title="definition">NumMap.Equal</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.empty"><span class="id" title="axiom">NumMap.empty</span></a> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">elt</span> <span class="id" title="var">t</span> <span class="id" title="var">H</span> <span class="id" title="var">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">find_analyse</span>; <span class="id" title="var">find_tac</span>; <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.Empty"><span class="id" title="definition">NumMap.Empty</span></a> (<a class="idref" href="ATBR.Numbers.html#Positive.NumMap.empty"><span class="id" title="axiom">NumMap.empty</span></a> <span class="id" title="var">elt</span>)). <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>. <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;TODO:&nbsp;nettoyer&nbsp;cette&nbsp;preuve&nbsp;!!!&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="PosDisjointSets.sameclass_class_of"><span class="id" title="lemma">sameclass_class_of</span></a> : <span class="id" title="keyword">forall</span> `{<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.WF"><span class="id" title="class">WF</span></a>} <span class="id" title="var">x</span> <span class="id" title="var">y</span> , <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass"><span class="id" title="definition">sameclass</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Logic.html#4bfb4f2d0721ba668e3a802ab1b745a1"><span class="id" title="notation">&lt;-&gt;</span></a> <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.In"><span class="id" title="axiom">NumSet.In</span></a> <a class="idref" href="ATBR.DisjointSets.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <a class="idref" href="ATBR.DisjointSets.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="ATBR.DisjointSets.html#y"><span class="id" title="variable">y</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>  <span class="id" title="var">t</span> <span class="id" title="var">Hwf</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">z</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hx</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_In_repr"><span class="id" title="lemma">class_of_In_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hy</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_In_repr"><span class="id" title="lemma">class_of_In_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Hx</span> <span class="id" title="var">Hy</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a>; <span class="id" title="var">NumSetProps.set_iff</span>; <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">intros</span> [? |?] [? |?]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">h''</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_In_repr'"><span class="id" title="lemma">class_of_In_repr'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>). <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">h''</span>. <span class="id" title="var">revert</span> <span class="id" title="var">h''</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">intuition</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of_Equal_repr"><span class="id" title="lemma">class_of_Equal_repr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H'</span>). <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of'"><span class="id" title="definition">class_of'</span></a>, <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.class_of"><span class="id" title="definition">class_of</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">intros</span> [? |?]. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.p"><span class="id" title="projection">p</span></a> <span class="id" title="var">t</span>) <span class="id" title="keyword">using</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.map_induction_max"><span class="id" title="lemma">Z.map_induction_max</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span> := <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.NumMap_Equal_Empty_empty"><span class="id" title="lemma">NumMap_Equal_Empty_empty</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t0</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.fold_Equal"><span class="id" title="lemma">Z.fold_Equal</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> .<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="ATBR.Numbers.html#PositiveUtils.NumMapProps.fold_Empty"><span class="id" title="lemma">NumMapProps.fold_Empty</span></a> (<span class="id" title="var">eqA</span> := <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">ti_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">Hwf</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">NumSetProps.set_iff</span>. <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">intuition</span>. <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="var">erewrite</span> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.fold_Add_Above"><span class="id" title="lemma">Z.fold_Add_Above</span></a> (<span class="id" title="var">eqA</span> := <a class="idref" href="ATBR.Numbers.html#Positive.NumSet.Equal"><span class="id" title="definition">NumSet.Equal</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">ti_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 :  <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">y</span> <span class="id" title="var">y0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">y</span> <span class="id" title="var">y1</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">NumSetProps.setdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">y</span> <span class="id" title="var">x0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.equiv"><span class="id" title="definition">equiv</span></a> <span class="id" title="var">t</span> <span class="id" title="var">y</span> <span class="id" title="var">e</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.11.0/stdlib//Coq.Init.Datatypes.html#9ddeac0ab66152bd1d64bedb507a795e"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">intros</span>; <span class="id" title="var">cbn</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 :<span class="id" title="tactic">apply</span> <span class="id" title="var">IHt0_1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="var">NumSetProps.set_iff</span>; <span class="id" title="var">num_prop</span>. <span class="id" title="tactic">intros</span> [? | [? | ?]]; <span class="id" title="var">num_prop</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span> <span class="id" title="var">Hwf</span>. <span class="id" title="var">bool_connectors</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> - <span class="id" title="var">H2</span> <span class="id" title="var">Hwf</span>. <span class="id" title="var">bool_connectors</span>; <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.sameclass_equiv"><span class="id" title="lemma">sameclass_equiv</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>;<span class="id" title="tactic">try</span> <span class="id" title="tactic">symmetry</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt0_1</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets.protect"><span class="id" title="section">protect</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="ATBR.DisjointSets.html#PosDisjointSets"><span class="id" title="module">PosDisjointSets</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
